@tailwind base;
@tailwind components;
@tailwind utilities;
@tailwind variants;

/* Prevent FOUC */
.no-js {
  visibility: visible;
}

@layer components {
  html {
    @apply min-h-full;
  }

  body {
    @apply invisible no-js antialiased bg-gray-100 dark:bg-gray-900 print:bg-white min-h-full;
  }

  div#outer {
    @apply min-h-screen mb-10 print:mb-0 text-gray-900 dark:text-gray-100 print:text-black;
  }

  header#title-header {
    @apply pt-6 pb-4 mx-auto px-4 sm:px-6 lg:px-8 print:px-0 print:max-w-prose;
  }

  header#title-header h1 {
    @apply text-3xl font-bold leading-tight;
  }

  div#outer main {
    @apply mx-auto px-6 lg:px-8 print:px-0 print:max-w-prose;
  }

  div#about {
    @apply pb-4 max-w-prose;
  }

  article#glossary dl {
    @apply grid print:block print:space-y-5 gap-5 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 3xl:grid-cols-4;
  }

  article#glossary dl > div {
    @apply bg-white dark:bg-gray-800 print:bg-white border dark:border-gray-700 print:border-none rounded-lg print:px-0 px-4 py-4 print:py-0;
  }

  article#glossary dl dt {
    @apply font-semibold print:font-normal text-gray-600 dark:text-gray-200 print:text-black;
  }

  article#glossary dl dt dfn {
    @apply not-italic print:italic scroll-mt-24;
  }

  article#glossary dl dd {
    @apply mt-1 print:mt-0 py-2 print:py-0 text-gray-600 dark:text-gray-300 print:text-black;
  }

  article#glossary dl dd a {
    @apply text-gray-600 dark:text-gray-300 print:text-black;
  }

  article#glossary dl dd.related-terms {
    @apply print:mt-2;
  }

  a {
    @apply hover:underline text-indigo-600 dark:text-amber-300 print:text-black;
  }

  :target {
    @apply bg-amber-100 dark:bg-pink-900;
  }

  dt span.pilcrow {
    @apply ml-1.5 select-none;
  }

  dt span.pilcrow a {
    @apply text-inherit no-underline text-gray-500 dark:text-gray-400 font-normal;
  }

  /* Start of trick for autogrowing textareas
     https://css-tricks.com/the-cleanest-trick-for-autogrowing-textareas/ */

  .grow-wrap {
    @apply grid;
  }

  .grow-wrap::after {
    @apply whitespace-pre-wrap invisible;
    content: attr(data-replicated-value) " ";
  }

  .grow-wrap > textarea {
    @apply resize-none overflow-hidden;
  }

  .grow-wrap > textarea,
  .grow-wrap::after {
    @apply shadow-sm w-full rounded-md border;
    grid-area: 1 / 1 / 2 / 2;
  }

  /* End of trick for autogrowing textareas */
}
